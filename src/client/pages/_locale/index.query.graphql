query HomePage($locale: SiteLocale, $currentDate: DateTime)  {
  page: home(locale:$locale) {
    ...page
  },
  alternate: home(locale:$locale) {
    slug
  },
  upcomingEvents: allAcademyItems(locale:$locale, first: 1, orderBy: date_ASC, filter: {
    date: { gte: $currentDate }
  }) {
    date,
    description,
    title,
    url,
    image {
      url,
      format,
      width,
      height
    }
  },
  latestBlogposts: allBlogPosts(locale:$locale, first:3, orderBy: publishDate_DESC,
    filter: { published: { eq: true } } ) {
    slug,
    title,
    published,
    date: publishDate,
    authors {
      name,
      image {
        url,
        width,
        height,
        format
      }
    }
  }
}

fragment page on HomeRecord {
  slug,
  title,
  slug,
  social {
    title,
    description,
    image {
      url
    }
  },
  keywords,
  headerTitle,
  subtitle,
  headerIllustration {
    width,
    height,
    format,
    url,
    alt
  }
  usps {
    line
  },
  casesTitle,
  cases {
    slug,
    title,
    subtitle,
    heroIllustration {
      url,
      alt
    }
  },
  servicesHeader,
  services {
    tagline,
    title,
    slug,
    summary {
      title
    },
  },
  smallServices,
  servicesCta,
  clientsTitle,
  academyPrimaryButtonLabel,
  academyPrimaryButtonAriaLabel,
  academySecondaryButtonLabel,
  academyIllustration {
    url,
    format,
    width,
    height
  },
  blogPostsTitle,
  allBlogPostsButtonLabel,
  callToActionTitle,
  callToActionLabel,
  casePrimaryCtaLabel,
  caseSecondaryCtaLabel
}
