query HomePage($locale: SiteLocale, $currentDate: DateTime) {
  page: home(locale: $locale) {
    ...page
  }
  upcomingEvents: allEventItems(locale: $locale, first: 1, orderBy: date_ASC, filter: {date: {gte: $currentDate}}) {
    date
    description
    title
    url
    image {
      url
      format
      width
      height
    }
  }
  latestBlogposts: allBlogPosts(locale: $locale, first: 3, orderBy: publishDate_DESC, filter: {published: {eq: true}}) {
    slug
    title
    published
    date: publishDate
    authors {
      name
      image {
        url
        width
        height
        format
      }
    }
  }
}

fragment page on HomeRecord {
  slug
  title
  slug
  social {
    title
    description
    image {
      url
    }
  }
  keywords
  headerTitle
  subtitle
  headerIllustration {
    width
    height
    format
    url
    alt
  }
  usps {
    line
  }
  casesTitle
  cases {
    slug
    title
    subtitle
    heroIllustration {
      url
      alt
    }
  }
  ctaTitle
  ctaBody
  ctaButtonLabel
  ctaUrl
  servicesHeader
  services {
    tagline
    title
    slug
    summary {
      title
    }
  }
  smallServices
  clientsTitle
  academyIllustration {
    url
    format
    width
    height
  }
  pivots {
    title
    body
    buttonLabel: callToActionLabel
    file {
      id
      filename
      url
      title
    }
    link {
      title
      url
      page {
        ... on HomeRecord {
          slug
        }
        ... on ServiceOverviewRecord {
          slug
        }
        ... on CaseOverviewRecord {
          slug
        }
        ... on BlogPostOverviewRecord {
          slug
        }
        ... on JobOverviewRecord {
          slug
        }
        ... on AboutRecord {
          slug
        }
        ... on ContactRecord {
          slug
        }
      }
    }
    externalLink
    formType
    contactPerson {
      name
      lastName
      jobTitle
      image {
        width
        height
        url
        format
      }
    }
  }
}
